"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function initForm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.getElementById("myInput"),c=document.getElementById("todo-content");n.value=e,c.value=t,document.getElementById("edit-id").value=o}function formToTodoObj(){var e=document.getElementById("myInput").value,t=document.getElementById("todo-content").value;return{id:document.getElementById("edit-id").value,subject:e,content:t}}function remove(e,t){var o=e.indexOf(t);-1!==o&&e.splice(o,1)}function removeByIndex(e,t){-1!==t&&e.splice(t,1)}function recoverForm(){removeClass(document.getElementById("wrap-form"),"edit"),initForm()}var Todo=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.subject=t,this.content=o,this.checked=n},todos=[new Todo("Hit the gym","test"),new Todo("Pay bills","test"),new Todo("Meet George","test",!0),new Todo("Buy eggs","test"),new Todo("Read a book","test"),new Todo("Organize office","test")],loadTodos=function(){document.getElementById("todo-list").innerHTML=todos.map(function(e,t){return'\n            <li id="todo-'.concat(t,'" class="item-todo collapse" data-index="').concat(t,'">\n                <div class="wrap-subject">\n                    <input type="checkbox" class="chk-complete" ').concat(e.checked?"checked":"",' />\n                    <span class="todo-subject ').concat(e.checked?"checked":"",'">').concat(e.subject,'</span>\n                    <div class="buttons">\n                        <button class="evt-edit">수정</button>\n                        <button class="evt-delete">삭제</button>\n                    </div>\n                </div>\n                <div class="content">').concat(e.content,"</div>\n            </li>\n      ")}).join(" ")};loadTodos(),document.getElementById("addTodo").addEventListener("click",function(){var e=formToTodoObj();todos.push(new Todo(e.subject,e.content)),initForm(),loadTodos()});var removeClass=function(e,t){var o=new RegExp("(?:^|\\s)"+t+"(?:\\s|$)","g");e.className=e.className.replace(o,"")};document.getElementById("cancel-edit").addEventListener("click",recoverForm),document.getElementById("submit-edit").addEventListener("click",function(){var e=formToTodoObj();todos[e.id].subject=e.subject,todos[e.id].content=e.content,loadTodos(),recoverForm()}),document.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".buttons"),o=e.target.closest(".collapse");if(e.target.className.includes("chk-complete")){var n=o.getAttribute("data-index");return todos[n].checked=e.target.checked,void loadTodos()}if(null==t)null!=o&&(o.className.includes("on")?removeClass(o,"on"):o.className+=" on");else if(e.target.className.includes("evt-edit")){var c=o.getAttribute("data-index");initForm(todos[c].subject,todos[c].content,c),document.getElementById("wrap-form").className+=" edit",document.getElementById("myInput").focus()}else if(e.target.className.includes("evt-delete")&&confirm("정말 삭제하겠습니까?")){var d=o.getAttribute("data-index");removeByIndex(todos,d),loadTodos()}});